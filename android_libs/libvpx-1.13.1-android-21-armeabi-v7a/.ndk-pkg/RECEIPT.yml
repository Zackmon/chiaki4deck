pkgname: libvpx
pkgtype: lib
version: 1.13.1
summary: VP8/VP9 video codec
web-url: https://www.webmproject.org/code/
git-url: https://github.com/webmproject/libvpx
src-url: https://github.com/webmproject/libvpx/archive/v1.13.1.tar.gz
src-sha: 00dae80465567272abd077f59355f95ac91d7809a2d3006f9ace2637dd429d14
license: BSD-3-Clause
dep-upp: yasm perl curl bsdtar gmake gmake
bsystem: configure
binbstd: 0

install: |
    unset CONFIGURE_EXTRA_ARGS

    case $TARGET_PLATFORM_ARCH in
        armv7a)  TARGET=armv7-android-gcc  ; export AS="$CC -c" ; CONFIGURE_EXTRA_ARGS=--enable-neon-asm ;;
        aarch64) TARGET=arm64-android-gcc  ; export AS="$CC -c" ;;
        i686)    TARGET=x86-android-gcc    ; export AS=yasm ;;
        x86_64)  TARGET=x86_64-android-gcc ; export AS=yasm ;;
    esac

    run "$PACKAGE_BSCRIPT_DIR/configure" \
        --prefix="$PACKAGE_INSTALL_DIR" \
        --target="$TARGET" \
        --disable-examples \
        --disable-unit-tests \
        --disable-realtime-only \
        --enable-pic \
        --enable-vp9-highbitdepth $CONFIGURE_EXTRA_ARGS
    gmakew
    gmakew install
parallel: 1
ndkvers: 26.3.11579264
builtby: ndk-pkg-0.12.3
builtat: 1719531861
buildon:
    os-arch: x86_64
    os-kind: linux
    os-type: linux
    os-code: ubuntu
    os-name: Ubuntu
    os-vers: 24.04
    os-ncpu: 64
    os-euid: 1000
    os-egid: 1000
builtfor: android-21-armeabi-v7a
profile: release
